# Система управления кафе

Веб-приложение для комплексного управления кафе, разработанное с использованием Flask. Система позволяет автоматизировать основные процессы работы кафе: от управления персоналом и сменами до контроля запасов продуктов и приготовления блюд.

## Основные возможности

### Для администратора
- Управление пользователями и сотрудниками
- Управление сменами и назначение сотрудников
- Просмотр и управление всеми заказами
- Управление запасами продуктов
- Создание и редактирование рецептов блюд
- Просмотр статистики работы кафе

### Для официанта
- Создание и управление заказами
- Просмотр доступного количества блюд
- Отслеживание статуса заказов
- Оформление оплаты заказов

### Для повара
- Просмотр поступивших заказов
- Изменение статуса заказов (готовится, готов)
- Отслеживание наличия продуктов для блюд

## Технические особенности

- **Учет продуктов**: система автоматически отслеживает количество доступных продуктов и рассчитывает, сколько порций каждого блюда можно приготовить
- **Рецепты блюд**: для каждого блюда можно создать рецепт с указанием необходимых продуктов и их количества
- **Управление сменами**: система позволяет создавать смены и назначать на них сотрудников
- **Разграничение прав доступа**: разные роли пользователей имеют доступ только к своему функционалу
- **Адаптивный дизайн**: система полностью адаптирована для использования на мобильных устройствах

## Мобильная версия

Система имеет адаптивный дизайн и оптимизирована для использования на мобильных устройствах:

- **Выдвижное меню**: на мобильных устройствах используется выдвижное меню для экономии места
- **Адаптивные таблицы**: все таблицы адаптированы для просмотра на маленьких экранах
- **Карточное представление**: для некоторых страниц добавлено альтернативное карточное представление данных
- **Оптимизированные формы**: формы адаптированы для удобного заполнения на мобильных устройствах
- **Полная доступность всех функций**: все пункты меню и функции системы доступны на мобильных устройствах
- **Автоматическое закрытие меню**: меню автоматически закрывается после выбора пункта
- **Затемнение фона**: при открытом меню основной контент затемняется для лучшего фокуса на меню

Подробнее о мобильной адаптации можно прочитать в [README_MOBILE.md](README_MOBILE.md).

## Установка и запуск

### Требования
- Python 3.7+
- Flask и другие зависимости (см. requirements.txt)

### Шаги по установке

1. Клонировать репозиторий:
   ```
   git clone <url-репозитория>
   cd <папка-проекта>
   ```

2. Создать и активировать виртуальное окружение (рекомендуется):
   ```
   python -m venv venv
   # Для Windows:
   venv\Scripts\activate
   # Для Linux/Mac:
   source venv/bin/activate
   ```

3. Установить зависимости:
   ```
   pip install -r requirements.txt
   ```

4. Инициализировать базу данных:
   ```
   python init_db.py
   ```

5. Запустить приложение:
   ```
   python app.py
   ```

6. Открыть в браузере: `http://localhost:5000`

### Доступ с мобильного устройства

Для доступа к локальному серверу с мобильного устройства:

1. Запустите приложение с указанием хоста:
   ```
   python app.py --host=0.0.0.0
   ```

2. Узнайте IP-адрес вашего компьютера в локальной сети:
   - Windows: `ipconfig` в командной строке
   - Linux/Mac: `ifconfig` или `ip addr` в терминале

3. На мобильном устройстве откройте браузер и введите:
   ```
   http://<IP-адрес-компьютера>:5000
   ```

Примечание: Мобильное устройство должно быть подключено к той же Wi-Fi сети, что и компьютер.

## Учетные данные для входа

- **Администратор**: admin / admin
- **Официант 1**: waiter1 / waiter1
- **Официант 2**: waiter2 / waiter2
- **Повар 1**: cook1 / cook1
- **Повар 2**: cook2 / cook2

## Инициализация тестовых данных

Для заполнения базы данных тестовыми данными можно использовать следующие скрипты:

- `add_products.py` - добавление базовых продуктов
- `add_menu_items.py` - добавление блюд в меню
- `add_recipes.py` - добавление рецептов для блюд
- `init_db.py` - запуск всех скриптов инициализации

## Структура проекта

- `app.py` - основной файл приложения
- `templates/` - HTML-шаблоны
  - `admin/` - шаблоны для администратора
  - `waiter/` - шаблоны для официанта
  - `cook/` - шаблоны для повара
- `static/` - статические файлы (CSS, JavaScript)
- `instance/` - база данных SQLite

## Модели данных

- **User** - пользователи системы (администраторы, официанты, повара)
- **Employee** - сотрудники кафе
- **MenuItem** - позиции меню
- **Order** - заказы
- **OrderItem** - позиции заказов
- **Shift** - рабочие смены
- **Product** - продукты для приготовления блюд
<<<<<<< HEAD
- **RecipeItem** - рецепты блюд (связь между блюдами и продуктами)
- **MenuCategory** - категории блюд

## Лицензия

Этот проект распространяется под лицензией MIT. 
=======
- **RecipeItem** - рецепты блюд (связь между блюдами и продуктами) 
>>>>>>> 46c6e73e8a32dd22db05213a1cd53556d414983e
